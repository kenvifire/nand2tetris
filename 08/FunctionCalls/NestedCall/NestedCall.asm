//FUNCTION Sys.init 0
(function_Sys.init)
//CALL Sys.main 0
//push returnAddress
@function_Sys.main.1
D=A
@SP
A=M
M=D
@SP
M=M+1
//push segment local
@1
D=M
@SP
A=M
M=D
@SP
M=M+1
//push segment arg
@2
D=M
@SP
A=M
M=D
@SP
M=M+1
//push segment this
@3
D=M
@SP
A=M
M=D
@SP
M=M+1
//push segment that
@4
D=M
@SP
A=M
M=D
@SP
M=M+1
//arg = sp  -5 - nargs
@0
D=M
@SP
A=M
M=D
@SP
M=M+1
@5
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_0
0;JMP
(BOOL_FALSE_0)
D=0
@START_0
0;JMP
(BOOL_TRUE_0)
D=-1
@START_0
0;JMP
(START_0)
@SP
A=M
M=D
@SP
M=M+1
@0
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_1
0;JMP
(BOOL_FALSE_1)
D=0
@START_1
0;JMP
(BOOL_TRUE_1)
D=-1
@START_1
0;JMP
(START_1)
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@2
M=D
@0
D=M
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@1
M=D
//goto Sys.main
@function_Sys.main
0;JMP
//return address function_Sys.main.1
(function_Sys.main.1)
//POP temp 1
@5
D=A
@1
D=D+A
@SP
A=M
M=D
@SP
M=M-1
@SP
A=M
D=M
@SP
M=M+1
@SP
A=M
A=M
M=D
@SP
M=M-1
//LABEL LOOP null
(LOOP)
//GOTO LOOP null
@LOOP
0;JMP
//FUNCTION Sys.main 0
(function_Sys.main)
//PUSH constant 123
@123
D=A
@SP
A=M
M=D
@SP
M=M+1
//CALL Sys.add12 1
//push returnAddress
@function_Sys.add12.1
D=A
@SP
A=M
M=D
@SP
M=M+1
//push segment local
@1
D=M
@SP
A=M
M=D
@SP
M=M+1
//push segment arg
@2
D=M
@SP
A=M
M=D
@SP
M=M+1
//push segment this
@3
D=M
@SP
A=M
M=D
@SP
M=M+1
//push segment that
@4
D=M
@SP
A=M
M=D
@SP
M=M+1
//arg = sp  -5 - nargs
@0
D=M
@SP
A=M
M=D
@SP
M=M+1
@5
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_2
0;JMP
(BOOL_FALSE_2)
D=0
@START_2
0;JMP
(BOOL_TRUE_2)
D=-1
@START_2
0;JMP
(START_2)
@SP
A=M
M=D
@SP
M=M+1
@1
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_3
0;JMP
(BOOL_FALSE_3)
D=0
@START_3
0;JMP
(BOOL_TRUE_3)
D=-1
@START_3
0;JMP
(START_3)
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@2
M=D
@0
D=M
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@1
M=D
//goto Sys.add12
@function_Sys.add12
0;JMP
//return address function_Sys.add12.1
(function_Sys.add12.1)
//POP temp 0
@5
D=A
@0
D=D+A
@SP
A=M
M=D
@SP
M=M-1
@SP
A=M
D=M
@SP
M=M+1
@SP
A=M
A=M
M=D
@SP
M=M-1
//PUSH constant 246
@246
D=A
@SP
A=M
M=D
@SP
M=M+1
//RETURN null null
//temp[0]=LCL
@1
//push A
D=M
@SP
A=M
M=D
@SP
M=M+1
//POP TEMP 0
//POP temp 0
@5
D=A
@0
D=D+A
@SP
A=M
M=D
@SP
M=M-1
@SP
A=M
D=M
@SP
M=M+1
@SP
A=M
A=M
M=D
@SP
M=M-1
@SP
M=M-1
@SP
A=M
D=M
@2
A=M
M=D
//restore retAddr
//PUSH temp 0
@5
D=A
@0
D=D+A
A=D
D=M
@SP
A=M
M=D
@SP
M=M+1
@5
D=A
@SP
A=M
M=D
@SP
M=M+1
//SUB null null
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_4
0;JMP
(BOOL_FALSE_4)
D=0
@START_4
0;JMP
(BOOL_TRUE_4)
D=-1
@START_4
0;JMP
(START_4)
@SP
A=M
M=D
@SP
M=M+1
//retAddr = *(endFrame -5)
@SP
M=M-1
A=M
A=M
D=M
@SP
A=M
M=D
@SP
M=M+1
//POP temp 1
@5
D=A
@1
D=D+A
@SP
A=M
M=D
@SP
M=M-1
@SP
A=M
D=M
@SP
M=M+1
@SP
A=M
A=M
M=D
@SP
M=M-1
@2
D=M
@SP
M=D+1
//restore that
//PUSH temp 0
@5
D=A
@0
D=D+A
A=D
D=M
@SP
A=M
M=D
@SP
M=M+1
@1
D=A
@SP
A=M
M=D
@SP
M=M+1
//SUB null null
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_5
0;JMP
(BOOL_FALSE_5)
D=0
@START_5
0;JMP
(BOOL_TRUE_5)
D=-1
@START_5
0;JMP
(START_5)
@SP
A=M
M=D
@SP
M=M+1
//that = *(endFrame -1)
@SP
M=M-1
A=M
A=M
D=M
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@4
M=D
//restore this
//PUSH temp 0
@5
D=A
@0
D=D+A
A=D
D=M
@SP
A=M
M=D
@SP
M=M+1
@2
D=A
@SP
A=M
M=D
@SP
M=M+1
//SUB null null
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_6
0;JMP
(BOOL_FALSE_6)
D=0
@START_6
0;JMP
(BOOL_TRUE_6)
D=-1
@START_6
0;JMP
(START_6)
@SP
A=M
M=D
@SP
M=M+1
//this = *(endFrame -2)
@SP
M=M-1
A=M
A=M
D=M
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@3
M=D
//restore argument
//PUSH temp 0
@5
D=A
@0
D=D+A
A=D
D=M
@SP
A=M
M=D
@SP
M=M+1
@3
D=A
@SP
A=M
M=D
@SP
M=M+1
//SUB null null
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_7
0;JMP
(BOOL_FALSE_7)
D=0
@START_7
0;JMP
(BOOL_TRUE_7)
D=-1
@START_7
0;JMP
(START_7)
@SP
A=M
M=D
@SP
M=M+1
//argument = *(endFrame -3)
@SP
M=M-1
A=M
A=M
D=M
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@2
M=D
//restore local
//PUSH temp 0
@5
D=A
@0
D=D+A
A=D
D=M
@SP
A=M
M=D
@SP
M=M+1
@4
D=A
@SP
A=M
M=D
@SP
M=M+1
//SUB null null
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_8
0;JMP
(BOOL_FALSE_8)
D=0
@START_8
0;JMP
(BOOL_TRUE_8)
D=-1
@START_8
0;JMP
(START_8)
@SP
A=M
M=D
@SP
M=M+1
//local = *(endFrame -4)
@SP
M=M-1
A=M
A=M
D=M
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@1
M=D
@5
A=A+1
A=M
0;JMP
//FUNCTION Sys.add12 3
(function_Sys.add12)
@0
D=A
@SP
A=M
M=D
@SP
M=M+1
@0
D=A
@SP
A=M
M=D
@SP
M=M+1
@0
D=A
@SP
A=M
M=D
@SP
M=M+1
//PUSH argument 0
@2
D=M
@0
D=D+A
A=D
D=M
@SP
A=M
M=D
@SP
M=M+1
//PUSH constant 12
@12
D=A
@SP
A=M
M=D
@SP
M=M+1
//ADD null null
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=D+M
@START_9
0;JMP
(BOOL_FALSE_9)
D=0
@START_9
0;JMP
(BOOL_TRUE_9)
D=-1
@START_9
0;JMP
(START_9)
@SP
A=M
M=D
@SP
M=M+1
//RETURN null null
//temp[0]=LCL
@1
//push A
D=M
@SP
A=M
M=D
@SP
M=M+1
//POP TEMP 0
//POP temp 0
@5
D=A
@0
D=D+A
@SP
A=M
M=D
@SP
M=M-1
@SP
A=M
D=M
@SP
M=M+1
@SP
A=M
A=M
M=D
@SP
M=M-1
@SP
M=M-1
@SP
A=M
D=M
@2
A=M
M=D
//restore retAddr
//PUSH temp 0
@5
D=A
@0
D=D+A
A=D
D=M
@SP
A=M
M=D
@SP
M=M+1
@5
D=A
@SP
A=M
M=D
@SP
M=M+1
//SUB null null
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_10
0;JMP
(BOOL_FALSE_10)
D=0
@START_10
0;JMP
(BOOL_TRUE_10)
D=-1
@START_10
0;JMP
(START_10)
@SP
A=M
M=D
@SP
M=M+1
//retAddr = *(endFrame -5)
@SP
M=M-1
A=M
A=M
D=M
@SP
A=M
M=D
@SP
M=M+1
//POP temp 1
@5
D=A
@1
D=D+A
@SP
A=M
M=D
@SP
M=M-1
@SP
A=M
D=M
@SP
M=M+1
@SP
A=M
A=M
M=D
@SP
M=M-1
@2
D=M
@SP
M=D+1
//restore that
//PUSH temp 0
@5
D=A
@0
D=D+A
A=D
D=M
@SP
A=M
M=D
@SP
M=M+1
@1
D=A
@SP
A=M
M=D
@SP
M=M+1
//SUB null null
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_11
0;JMP
(BOOL_FALSE_11)
D=0
@START_11
0;JMP
(BOOL_TRUE_11)
D=-1
@START_11
0;JMP
(START_11)
@SP
A=M
M=D
@SP
M=M+1
//that = *(endFrame -1)
@SP
M=M-1
A=M
A=M
D=M
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@4
M=D
//restore this
//PUSH temp 0
@5
D=A
@0
D=D+A
A=D
D=M
@SP
A=M
M=D
@SP
M=M+1
@2
D=A
@SP
A=M
M=D
@SP
M=M+1
//SUB null null
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_12
0;JMP
(BOOL_FALSE_12)
D=0
@START_12
0;JMP
(BOOL_TRUE_12)
D=-1
@START_12
0;JMP
(START_12)
@SP
A=M
M=D
@SP
M=M+1
//this = *(endFrame -2)
@SP
M=M-1
A=M
A=M
D=M
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@3
M=D
//restore argument
//PUSH temp 0
@5
D=A
@0
D=D+A
A=D
D=M
@SP
A=M
M=D
@SP
M=M+1
@3
D=A
@SP
A=M
M=D
@SP
M=M+1
//SUB null null
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_13
0;JMP
(BOOL_FALSE_13)
D=0
@START_13
0;JMP
(BOOL_TRUE_13)
D=-1
@START_13
0;JMP
(START_13)
@SP
A=M
M=D
@SP
M=M+1
//argument = *(endFrame -3)
@SP
M=M-1
A=M
A=M
D=M
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@2
M=D
//restore local
//PUSH temp 0
@5
D=A
@0
D=D+A
A=D
D=M
@SP
A=M
M=D
@SP
M=M+1
@4
D=A
@SP
A=M
M=D
@SP
M=M+1
//SUB null null
@SP
M=M-1
A=M
D=M
@SP
M=M-1
A=M
D=M-D
@START_14
0;JMP
(BOOL_FALSE_14)
D=0
@START_14
0;JMP
(BOOL_TRUE_14)
D=-1
@START_14
0;JMP
(START_14)
@SP
A=M
M=D
@SP
M=M+1
//local = *(endFrame -4)
@SP
M=M-1
A=M
A=M
D=M
@SP
A=M
M=D
@SP
M=M+1
@SP
M=M-1
A=M
D=M
@1
M=D
@5
A=A+1
A=M
0;JMP
